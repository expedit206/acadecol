import{e as x,c as y,w as f,a as t,f as v,g as a,u as l,v as u,o as r,h as i,t as n,i as d,m as _,d as w,l as k,b as h,p as U}from"./app-BHVeyYr9.js";import{_ as V}from"./AdminLayout-DMrfK7Ww.js";import"./ResponsiveNavLink-CsJK82uQ.js";import"./NavLink-CPfZiPvW.js";const C={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={class:"space-y-4"},B={key:0,class:"text-red-600 text-sm mt-1"},F={key:0,class:"text-red-600 text-sm mt-1"},L={class:"space-y-4"},P={key:0,class:"text-red-600 text-sm mt-1"},S={key:0,class:"text-red-600 text-sm mt-1"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t"},j={key:0,class:"text-red-600 text-sm mt-1"},q={key:0,class:"mt-2 mb-4"},D=["src"],I={key:1,class:"text-red-600 text-sm mt-1"},M={key:0},O={key:0,class:"text-red-600 text-sm mt-1"},$={class:"flex items-center mt-6"},z={class:"flex justify-end pt-6 border-t"},G=["disabled"],X={__name:"Create",setup(H){const m=U(null),s=x({title:{fr:"",en:""},content:{fr:"",en:""},slug:"",image:null,published_at:"",is_published:!1}),b=()=>{s.title.fr&&(s.slug=s.title.fr.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"))},c=g=>{const e=g.target.files[0];s.image=e,e?m.value=URL.createObjectURL(e):m.value=null},p=()=>{s.post(route("admin.news.store"))};return(g,e)=>(r(),y(V,{title:"Créer une Actualité"},{header:f(()=>[...e[7]||(e[7]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Créer une Nouvelle Actualité ",-1)])]),default:f(()=>[t("div",C,[t("div",N,[t("div",E,[t("form",{onSubmit:v(p,["prevent"]),class:"p-6 text-gray-900 space-y-6"},[t("div",R,[t("div",A,[e[10]||(e[10]=t("h3",{class:"font-semibold text-lg text-blue-600 border-b pb-2"}," Français ",-1)),t("div",null,[e[8]||(e[8]=t("label",{for:"title_fr",class:"block text-sm font-medium text-gray-700"},"Titre (FR)",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l(s).title.fr=o),type:"text",id:"title_fr",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onInput:b},null,544),[[u,l(s).title.fr]]),l(s).errors["title.fr"]?(r(),i("div",B,n(l(s).errors["title.fr"]),1)):d("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"content_fr",class:"block text-sm font-medium text-gray-700"},"Contenu (FR)",-1)),a(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>l(s).content.fr=o),id:"content_fr",rows:"10",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[u,l(s).content.fr]]),l(s).errors["content.fr"]?(r(),i("div",F,n(l(s).errors["content.fr"]),1)):d("",!0)])]),t("div",L,[e[13]||(e[13]=t("h3",{class:"font-semibold text-lg text-red-600 border-b pb-2"}," Anglais ",-1)),t("div",null,[e[11]||(e[11]=t("label",{for:"title_en",class:"block text-sm font-medium text-gray-700"},"Titre (EN)",-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l(s).title.en=o),type:"text",id:"title_en",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[u,l(s).title.en]]),l(s).errors["title.en"]?(r(),i("div",P,n(l(s).errors["title.en"]),1)):d("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{for:"content_en",class:"block text-sm font-medium text-gray-700"},"Contenu (EN)",-1)),a(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>l(s).content.en=o),id:"content_en",rows:"10",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[u,l(s).content.en]]),l(s).errors["content.en"]?(r(),i("div",S,n(l(s).errors["content.en"]),1)):d("",!0)])])]),t("div",T,[t("div",null,[e[14]||(e[14]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-700"},"Slug (URL)",-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>l(s).slug=o),type:"text",id:"slug",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm bg-gray-50",required:""},null,512),[[u,l(s).slug]]),l(s).errors.slug?(r(),i("div",j,n(l(s).errors.slug),1)):d("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{for:"image",class:"block text-sm font-medium text-gray-700"},"Image de couverture",-1)),m.value?(r(),i("div",q,[t("img",{src:m.value,alt:"Preview",class:"h-40 w-full object-cover rounded-lg border shadow-sm"},null,8,D)])):d("",!0),t("input",{type:"file",id:"image",onChange:c,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*"},null,32),l(s).errors.image?(r(),i("div",I,n(l(s).errors.image),1)):d("",!0)]),l(s).is_published?d("",!0):(r(),i("div",M,[e[16]||(e[16]=t("label",{for:"published_at",class:"block text-sm font-medium text-gray-700"},"Date de Publication",-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>l(s).published_at=o),type:"datetime-local",id:"published_at",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[u,l(s).published_at]]),l(s).errors.published_at?(r(),i("div",O,n(l(s).errors.published_at),1)):d("",!0)])),t("div",$,[a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>l(s).is_published=o),id:"is_published",type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[_,l(s).is_published]]),e[17]||(e[17]=t("label",{for:"is_published",class:"ml-2 block text-sm text-gray-900"}," Publier immédiatement ",-1))])]),t("div",z,[w(l(k),{href:g.route("admin.news.index"),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md mr-2 hover:bg-gray-300"},{default:f(()=>[...e[18]||(e[18]=[h("Annuler",-1)])]),_:1},8,["href"]),t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:l(s).processing},n(l(s).processing?"Enregistrement...":"Enregistrer"),9,G)])],32)])])])]),_:1}))}};export{X as default};
