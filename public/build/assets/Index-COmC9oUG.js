import{_ as k}from"./AdminLayout-jXnIgBJ2.js";import{c as g,w as d,a as t,b as f,u,l as c,d as n,o as a,h as o,t as i,i as m,F as p,r as y,n as x,j as h}from"./app-CCCm5wrm.js";import"./ResponsiveNavLink-DN9XbevI.js";import"./NavLink-C6R_6bzx.js";const F={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"mb-6 flex justify-between items-center"},N={key:0,class:"mb-6 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-lg"},$={class:"flex items-center"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},L={class:"p-6"},M={class:"overflow-x-auto"},T={class:"min-w-full divide-y divide-gray-200"},B={class:"bg-white divide-y divide-gray-200"},H={class:"px-6 py-4"},V={class:"flex items-center"},S={class:"flex-shrink-0 h-10 w-16 mr-4 bg-gray-100 rounded overflow-hidden"},D=["src"],G={key:1,class:"h-full w-full flex items-center justify-center text-gray-400"},I={class:"text-sm font-medium text-gray-900"},P={class:"text-sm text-gray-500"},z={class:"px-6 py-4 whitespace-nowrap"},E={class:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap"},q=["onClick"],J={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},K={class:"flex items-center justify-end gap-2"},Q=["onClick"],U={key:0,class:"text-center py-12"},W={key:0,class:"mt-6 flex items-center justify-between border-t pt-4"},Y={class:"text-sm text-gray-700"},Z={class:"font-medium"},tt={class:"font-medium"},et={class:"font-medium"},st={class:"flex gap-2"},rt=["innerHTML"],nt={__name:"Index",props:{formations:Object},setup(l){const b=r=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF"}).format(r),v=r=>{h.post(route("admin.formations.toggle-featured",r.id))},_=r=>{confirm(`Êtes-vous sûr de vouloir supprimer la formation "${r.titre.fr}" ?`)&&h.delete(route("admin.formations.destroy",r.id))};return(r,e)=>(a(),g(k,{title:"Formations"},{default:d(()=>[t("div",F,[t("div",C,[t("div",j,[e[1]||(e[1]=t("h1",{class:"text-3xl font-bold text-gray-900"}," Gestion des Formations ",-1)),f(u(c),{href:r.route("admin.formations.create"),class:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors shadow-lg"},{default:d(()=>[...e[0]||(e[0]=[t("i",{class:"fas fa-plus"},null,-1),n(" Nouvelle Formation ",-1)])]),_:1},8,["href"])]),r.$page.props.flash.success?(a(),o("div",N,[t("div",$,[e[2]||(e[2]=t("i",{class:"fas fa-check-circle mr-3 text-xl"},null,-1)),t("p",null,i(r.$page.props.flash.success),1)])])):m("",!0),t("div",A,[t("div",L,[t("div",M,[t("table",T,[e[6]||(e[6]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Formation "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Catégorie "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Prix "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Durée "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",B,[(a(!0),o(p,null,y(l.formations.data,s=>(a(),o("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",H,[t("div",V,[t("div",S,[s.image?(a(),o("img",{key:0,src:`/${s.image.path}`,class:"h-full w-full object-cover",onerror:`\r
                                                            this.src =\r
                                                                '/img/school1.jpg'\r
                                                        `},null,8,D)):(a(),o("div",G,[...e[3]||(e[3]=[t("i",{class:"fas fa-image"},null,-1)])]))]),t("div",null,[t("div",I,i(s.titre.fr),1),t("div",P,i(s.titre.en),1)])])]),t("td",z,[t("span",E,i(s.category?.nom?.fr||"N/A"),1)]),t("td",O,i(s.prix?b(s.prix):"Gratuit"),1),t("td",R,i(s.duree||"-"),1),t("td",X,[t("button",{onClick:w=>v(s),class:x([s.is_featured?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full cursor-pointer hover:opacity-75"])},[t("i",{class:x([s.is_featured?"fas fa-star":"far fa-star","mr-1"])},null,2),n(" "+i(s.is_featured?"Mise en avant":"Standard"),1)],10,q)]),t("td",J,[t("div",K,[f(u(c),{href:r.route("admin.formations.edit",s.id),class:"text-blue-600 hover:text-blue-900"},{default:d(()=>[...e[4]||(e[4]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:w=>_(s),class:"text-red-600 hover:text-red-900"},[...e[5]||(e[5]=[t("i",{class:"fas fa-trash"},null,-1)])],8,Q)])])]))),128))])]),l.formations.data.length===0?(a(),o("div",U,[e[8]||(e[8]=t("i",{class:"fas fa-graduation-cap text-6xl text-gray-300 mb-4"},null,-1)),e[9]||(e[9]=t("p",{class:"text-gray-500 text-lg"}," Aucune formation trouvée ",-1)),f(u(c),{href:r.route("admin.formations.create"),class:"inline-block mt-4 text-blue-600 hover:text-blue-800"},{default:d(()=>[...e[7]||(e[7]=[n(" Créer la première formation ",-1)])]),_:1},8,["href"])])):m("",!0)]),l.formations.data.length>0?(a(),o("div",W,[t("div",Y,[e[10]||(e[10]=n(" Affichage de ",-1)),t("span",Z,i(l.formations.from),1),e[11]||(e[11]=n(" à ",-1)),t("span",tt,i(l.formations.to),1),e[12]||(e[12]=n(" sur ",-1)),t("span",et,i(l.formations.total),1),e[13]||(e[13]=n(" résultats ",-1))]),t("div",st,[(a(!0),o(p,null,y(l.formations.links,s=>(a(),o(p,{key:s.label},[s.url?(a(),g(u(c),{key:0,href:s.url,class:x(["px-4 py-2 border rounded-lg text-sm transition",s.active?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(a(),o("span",{key:1,class:x(["px-4 py-2 border rounded-lg text-sm cursor-not-allowed opacity-50","bg-gray-100 text-gray-400 border-gray-200"]),innerHTML:s.label},null,8,rt))],64))),128))])])):m("",!0)])])])])]),_:1}))}};export{nt as default};
