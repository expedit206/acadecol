import{_ as v}from"./AdminLayout-DZOj0Obp.js";import{c as y,w as c,a as t,o as a,h as d,t as l,i as r,F as u,r as x,n as m,b,u as p,l as f,d as i,j as _}from"./app-pIoMpYII.js";import"./ResponsiveNavLink-_HR8Pkgm.js";import"./NavLink-CvUY7BGZ.js";const w={class:"py-12"},k={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={key:0,class:"mb-6 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-lg"},j={class:"flex items-center"},V={class:"hidden md:block bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6"},C={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-200"},F={class:"bg-white divide-y divide-gray-200"},N={class:"px-6 py-4"},L={class:"flex items-center"},S={class:"text-sm font-medium text-gray-900"},$={class:"text-sm text-gray-500"},B={class:"text-sm text-gray-500"},E={class:"px-6 py-4 whitespace-nowrap"},T={class:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},M={class:"px-6 py-4 whitespace-nowrap"},P={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},z={class:"md:hidden space-y-4"},I={class:"flex justify-between items-start mb-4"},O={class:"font-bold text-lg text-gray-900"},q={class:"text-sm text-gray-500"},G={class:"text-sm text-gray-500"},J={class:"mb-4"},K={class:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},Q={class:"flex justify-between items-center border-t pt-4"},U={class:"text-sm text-gray-500"},W={key:0,class:"grid grid-cols-2 gap-2 mt-4 pt-4 border-t border-gray-100"},X=["onClick"],Y=["onClick"],Z={key:0,class:"text-center py-12 bg-white rounded-lg shadow"},tt={key:1,class:"mt-6 flex flex-col sm:flex-row items-center justify-between border-t pt-4 gap-4"},et={class:"text-sm text-gray-700 text-center sm:text-left"},st={class:"font-medium"},lt={class:"font-medium"},at={class:"font-medium"},dt={class:"flex gap-2 justify-center"},ct={__name:"Index",props:{preRegistrations:Object},setup(n){const g=(o,s)=>{confirm("Êtes-vous sûr de vouloir changer le statut de cette pré-inscription ?")&&_.patch(route("admin.pre-registrations.update",o),{status:s})};return(o,s)=>(a(),y(v,{title:"Pré-inscriptions"},{default:c(()=>[t("div",w,[t("div",k,[s[12]||(s[12]=t("div",{class:"mb-6 flex justify-between items-center"},[t("h1",{class:"text-3xl font-bold text-gray-900"}," Pré-inscriptions ")],-1)),o.$page.props.flash.success?(a(),d("div",R,[t("div",j,[s[0]||(s[0]=t("i",{class:"fas fa-check-circle mr-3 text-xl"},null,-1)),t("p",null,l(o.$page.props.flash.success),1)])])):r("",!0),t("div",V,[t("div",A,[t("div",C,[t("table",D,[s[2]||(s[2]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Étudiant "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Formation "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",F,[(a(!0),d(u,null,x(n.preRegistrations.data,e=>(a(),d("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",N,[t("div",L,[t("div",null,[t("div",S,l(e.first_name)+" "+l(e.last_name),1),t("div",$,l(e.email),1),t("div",B,l(e.phone),1)])])]),t("td",E,[t("span",T,l(e.formation?.titre?.fr||"N/A"),1)]),t("td",H,l(new Date(e.created_at).toLocaleDateString("fr-FR")),1),t("td",M,[t("span",{class:m(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":e.status==="pending","bg-green-100 text-green-800":e.status==="validated","bg-red-100 text-red-800":e.status==="cancelled"}])},l(e.status==="pending"?"En attente":e.status==="validated"?"Validée":"Annulée"),3)]),t("td",P,[b(p(f),{href:o.route("admin.pre-registrations.show",e.id),class:"text-blue-600 hover:text-blue-900"},{default:c(()=>[...s[1]||(s[1]=[t("i",{class:"fas fa-eye"},null,-1),i(" Voir ",-1)])]),_:1},8,["href"])])]))),128))])])])])]),t("div",z,[(a(!0),d(u,null,x(n.preRegistrations.data,e=>(a(),d("div",{key:e.id,class:"bg-white overflow-hidden shadow-sm rounded-lg p-4"},[t("div",I,[t("div",null,[t("h3",O,l(e.first_name)+" "+l(e.last_name),1),t("div",q,l(e.email),1),t("div",G,l(e.phone),1)]),t("span",{class:m(["px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":e.status==="pending","bg-green-100 text-green-800":e.status==="validated","bg-red-100 text-red-800":e.status==="cancelled"}])},l(e.status==="pending"?"En attente":e.status==="validated"?"Validée":"Annulée"),3)]),t("div",J,[s[3]||(s[3]=t("div",{class:"text-sm font-medium text-gray-700 mb-1"}," Formation: ",-1)),t("span",K,l(e.formation?.titre?.fr||"N/A"),1)]),t("div",Q,[t("div",U,l(new Date(e.created_at).toLocaleDateString("fr-FR")),1),b(p(f),{href:o.route("admin.pre-registrations.show",e.id),class:"text-blue-600 hover:text-blue-900 font-medium"},{default:c(()=>[...s[4]||(s[4]=[t("i",{class:"fas fa-eye mr-1"},null,-1),i(" Détails ",-1)])]),_:1},8,["href"])]),e.status==="pending"?(a(),d("div",W,[t("button",{onClick:h=>g(e.id,"validated"),class:"flex items-center justify-center px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition text-sm font-medium"},[...s[5]||(s[5]=[t("i",{class:"fas fa-check mr-2"},null,-1),i(" Valider ",-1)])],8,X),t("button",{onClick:h=>g(e.id,"cancelled"),class:"flex items-center justify-center px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition text-sm font-medium"},[...s[6]||(s[6]=[t("i",{class:"fas fa-times mr-2"},null,-1),i(" Refuser ",-1)])],8,Y)])):r("",!0)]))),128)),n.preRegistrations.data.length===0?(a(),d("div",Z,[...s[7]||(s[7]=[t("i",{class:"fas fa-inbox text-6xl text-gray-300 mb-4"},null,-1),t("p",{class:"text-gray-500 text-lg"}," Aucune pré-inscription reçue ",-1)])])):r("",!0)]),n.preRegistrations.data.length>0?(a(),d("div",tt,[t("div",et,[s[8]||(s[8]=i(" Affichage de ",-1)),t("span",st,l(n.preRegistrations.from),1),s[9]||(s[9]=i(" à ",-1)),t("span",lt,l(n.preRegistrations.to),1),s[10]||(s[10]=i(" sur ",-1)),t("span",at,l(n.preRegistrations.total),1),s[11]||(s[11]=i(" résultats ",-1))]),t("div",dt,[(a(!0),d(u,null,x(n.preRegistrations.links,e=>(a(),y(p(f),{key:e.label,href:e.url,class:m(["px-4 py-2 border rounded-lg text-sm",e.active?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"]),innerHTML:e.label,disabled:!e.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):r("",!0)])])]),_:1}))}};export{ct as default};
