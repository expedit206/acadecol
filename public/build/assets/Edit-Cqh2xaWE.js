import{e as y,q as w,c as v,w as c,a as s,f as _,g as u,u as o,v as g,o as i,h as r,t as n,i as d,m as h,d as k,l as U,b as V,p as T}from"./app-AWcAGgD3.js";import{_ as M}from"./AdminLayout-ByK97Jvb.js";import"./ResponsiveNavLink-6KQiZvlK.js";import"./NavLink-D7C5y2UB.js";const C={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},B={class:"space-y-4"},D={key:0,class:"text-red-600 text-sm mt-1"},E={key:0,class:"text-red-600 text-sm mt-1"},O={class:"space-y-4"},P={key:0,class:"text-red-600 text-sm mt-1"},R={key:0,class:"text-red-600 text-sm mt-1"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t"},A={key:0,class:"text-red-600 text-sm mt-1"},F={key:0,class:"mt-2 mb-4"},I=["src"],L={key:1,class:"text-red-600 text-sm mt-1"},z={key:0},$={key:0,class:"text-red-600 text-sm mt-1"},G={class:"flex items-center mt-6"},H={class:"flex justify-end pt-6 border-t"},J=["disabled"],Y={__name:"Edit",props:{news:Object},setup(b){const a=b,f=T(null),t=y({_method:"PUT",title:{fr:"",en:""},content:{fr:"",en:""},slug:"",image:null,published_at:"",is_published:!1});w(()=>{if(t.title=a.news.title||{fr:"",en:""},t.content=a.news.content||{fr:"",en:""},t.slug=a.news.slug,a.news.published_at){const m=new Date(a.news.published_at),e=m.getTimezoneOffset()*6e4,l=new Date(m.getTime()-e).toISOString().slice(0,16);t.published_at=l}t.is_published=!!a.news.is_published});const p=m=>{const e=m.target.files[0];t.image=e,e?f.value=URL.createObjectURL(e):f.value=null},x=()=>{t.post(route("admin.news.update",a.news.id))};return(m,e)=>(i(),v(M,{title:"Modifier une Actualité"},{header:c(()=>[...e[7]||(e[7]=[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Modifier l'Actualité ",-1)])]),default:c(()=>[s("div",C,[s("div",N,[s("div",S,[s("form",{onSubmit:_(x,["prevent"]),class:"p-6 text-gray-900 space-y-6"},[s("div",j,[s("div",B,[e[10]||(e[10]=s("h3",{class:"font-semibold text-lg text-blue-600 border-b pb-2"}," Français ",-1)),s("div",null,[e[8]||(e[8]=s("label",{for:"title_fr",class:"block text-sm font-medium text-gray-700"},"Titre (FR)",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o(t).title.fr=l),type:"text",id:"title_fr",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[g,o(t).title.fr]]),o(t).errors["title.fr"]?(i(),r("div",D,n(o(t).errors["title.fr"]),1)):d("",!0)]),s("div",null,[e[9]||(e[9]=s("label",{for:"content_fr",class:"block text-sm font-medium text-gray-700"},"Contenu (FR)",-1)),u(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=l=>o(t).content.fr=l),id:"content_fr",rows:"10",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[g,o(t).content.fr]]),o(t).errors["content.fr"]?(i(),r("div",E,n(o(t).errors["content.fr"]),1)):d("",!0)])]),s("div",O,[e[13]||(e[13]=s("h3",{class:"font-semibold text-lg text-red-600 border-b pb-2"}," Anglais ",-1)),s("div",null,[e[11]||(e[11]=s("label",{for:"title_en",class:"block text-sm font-medium text-gray-700"},"Titre (EN)",-1)),u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o(t).title.en=l),type:"text",id:"title_en",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(t).title.en]]),o(t).errors["title.en"]?(i(),r("div",P,n(o(t).errors["title.en"]),1)):d("",!0)]),s("div",null,[e[12]||(e[12]=s("label",{for:"content_en",class:"block text-sm font-medium text-gray-700"},"Contenu (EN)",-1)),u(s("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>o(t).content.en=l),id:"content_en",rows:"10",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(t).content.en]]),o(t).errors["content.en"]?(i(),r("div",R,n(o(t).errors["content.en"]),1)):d("",!0)])])]),s("div",q,[s("div",null,[e[14]||(e[14]=s("label",{for:"slug",class:"block text-sm font-medium text-gray-700"},"Slug (URL)",-1)),u(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o(t).slug=l),type:"text",id:"slug",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm bg-gray-50",required:""},null,512),[[g,o(t).slug]]),o(t).errors.slug?(i(),r("div",A,n(o(t).errors.slug),1)):d("",!0)]),s("div",null,[e[15]||(e[15]=s("label",{for:"image",class:"block text-sm font-medium text-gray-700"},"Image de couverture",-1)),f.value||b.news.image?(i(),r("div",F,[s("img",{src:f.value||"/"+b.news.image,alt:"Preview",class:"h-40 w-full object-cover rounded-lg border shadow-sm"},null,8,I)])):d("",!0),s("input",{type:"file",id:"image",onChange:p,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*"},null,32),o(t).errors.image?(i(),r("div",L,n(o(t).errors.image),1)):d("",!0)]),o(t).is_published?d("",!0):(i(),r("div",z,[e[16]||(e[16]=s("label",{for:"published_at",class:"block text-sm font-medium text-gray-700"},"Date de Publication",-1)),u(s("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>o(t).published_at=l),type:"datetime-local",id:"published_at",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(t).published_at]]),o(t).errors.published_at?(i(),r("div",$,n(o(t).errors.published_at),1)):d("",!0)])),s("div",G,[u(s("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>o(t).is_published=l),id:"is_published",type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[h,o(t).is_published]]),e[17]||(e[17]=s("label",{for:"is_published",class:"ml-2 block text-sm text-gray-900"}," Publier immédiatement ",-1))])]),s("div",H,[k(o(U),{href:m.route("admin.news.index"),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md mr-2 hover:bg-gray-300"},{default:c(()=>[...e[18]||(e[18]=[V("Annuler",-1)])]),_:1},8,["href"]),s("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:o(t).processing},n(o(t).processing?"Enregistrement...":"Mettre à jour"),9,J)])],32)])])])]),_:1}))}};export{Y as default};
