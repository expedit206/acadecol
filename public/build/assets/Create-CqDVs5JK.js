import{e as v,c as k,w as b,a as r,b as c,u as s,l as g,f as w,d as m,g as u,o as l,h as d,F as q,r as U,t as i,k as V,i as n,v as a,m as F,p as C}from"./app-B5GyuVRa.js";import{_ as D}from"./AdminLayout-DeIVxo4W.js";import"./ResponsiveNavLink-DgZS1Icc.js";import"./NavLink-Cxv-7GN6.js";const N={class:"py-12"},M={class:"max-w-5xl mx-auto sm:px-6 lg:px-8"},R={class:"mb-6 flex items-center gap-4"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},P=["value"],j={key:0,class:"mt-1 text-sm text-red-600"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},S={key:0,class:"mt-1 text-sm text-red-600"},B={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},h={key:0,class:"mt-1 text-sm text-red-600"},G={key:0,class:"mt-1 text-sm text-red-600"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={key:0,class:"mt-1 text-sm text-red-600"},K={key:0,class:"mt-1 text-sm text-red-600"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Y={key:0,class:"mt-1 text-sm text-red-600"},Z={key:0,class:"mt-1 text-sm text-red-600"},ee={class:"flex items-center h-[42px]"},re={class:"border-t pt-6"},te={class:"flex items-start gap-6"},se={key:0,class:"w-48 h-32 rounded-lg border-2 border-dashed border-blue-300 overflow-hidden bg-gray-50 flex items-center justify-center"},oe=["src"],le={key:1,class:"w-48 h-32 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden bg-gray-50 flex flex-col items-center justify-center text-gray-400"},de={class:"flex-grow"},ie={key:0,class:"mt-1 text-sm text-red-600"},ue={class:"flex items-center justify-end gap-4 pt-6 border-t"},ne=["disabled"],ae={key:0},me={key:1},ge={__name:"Create",props:{categories:Array},setup(x){const p=C(null),t=v({category_id:"",titre:{fr:"",en:""},slug:"",description_courte:{fr:"",en:""},description_complete:{fr:"",en:""},debouches:{fr:"",en:""},prerequis:{fr:"",en:""},prix:null,duree:"",is_featured:!1,image:null}),y=f=>{const e=f.target.files[0];e&&(t.image=e,p.value=URL.createObjectURL(e))},_=()=>{t.post(route("admin.formations.store"))};return(f,e)=>(l(),k(D,{title:"Créer une Formation"},{default:b(()=>[r("div",N,[r("div",M,[r("div",R,[c(s(g),{href:f.route("admin.formations.index"),class:"text-gray-600 hover:text-gray-900"},{default:b(()=>[...e[15]||(e[15]=[r("i",{class:"fas fa-arrow-left text-xl"},null,-1)])]),_:1},8,["href"]),e[16]||(e[16]=r("h1",{class:"text-3xl font-bold text-gray-900"}," Créer une Formation ",-1))]),r("div",A,[r("form",{onSubmit:w(_,["prevent"]),class:"p-6 space-y-6"},[r("div",null,[e[18]||(e[18]=r("label",{for:"category_id",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Catégorie "),r("span",{class:"text-red-500"},"*")],-1)),u(r("select",{id:"category_id","onUpdate:modelValue":e[0]||(e[0]=o=>s(t).category_id=o),class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},[e[17]||(e[17]=r("option",{value:""}," Sélectionnez une catégorie ",-1)),(l(!0),d(q,null,U(x.categories,o=>(l(),d("option",{key:o.id,value:o.id},i(o.nom.fr),9,P))),128))],512),[[V,s(t).category_id]]),s(t).errors.category_id?(l(),d("p",j,i(s(t).errors.category_id),1)):n("",!0)]),r("div",E,[r("div",null,[e[19]||(e[19]=r("label",{for:"titre_fr",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Titre (Français) "),r("span",{class:"text-red-500"},"*")],-1)),u(r("input",{id:"titre_fr","onUpdate:modelValue":e[1]||(e[1]=o=>s(t).titre.fr=o),type:"text",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,s(t).titre.fr]]),s(t).errors["titre.fr"]?(l(),d("p",S,i(s(t).errors["titre.fr"]),1)):n("",!0)]),r("div",null,[e[20]||(e[20]=r("label",{for:"titre_en",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Titre (Anglais) "),r("span",{class:"text-red-500"},"*")],-1)),u(r("input",{id:"titre_en","onUpdate:modelValue":e[2]||(e[2]=o=>s(t).titre.en=o),type:"text",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,s(t).titre.en]]),s(t).errors["titre.en"]?(l(),d("p",B,i(s(t).errors["titre.en"]),1)):n("",!0)])]),r("div",null,[e[21]||(e[21]=r("label",{for:"slug",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Slug "),r("span",{class:"text-red-500"},"*")],-1)),u(r("input",{id:"slug","onUpdate:modelValue":e[3]||(e[3]=o=>s(t).slug=o),type:"text",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,s(t).slug]]),e[22]||(e[22]=r("p",{class:"mt-1 text-sm text-gray-500"}," URL-friendly identifier ",-1)),s(t).errors.slug?(l(),d("p",L,i(s(t).errors.slug),1)):n("",!0)]),r("div",T,[r("div",null,[e[23]||(e[23]=r("label",{for:"description_courte_fr",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Description courte (FR) "),r("span",{class:"text-red-500"},"*")],-1)),u(r("textarea",{id:"description_courte_fr","onUpdate:modelValue":e[4]||(e[4]=o=>s(t).description_courte.fr=o),rows:"3",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,s(t).description_courte.fr]]),s(t).errors["description_courte.fr"]?(l(),d("p",h,i(s(t).errors["description_courte.fr"]),1)):n("",!0)]),r("div",null,[e[24]||(e[24]=r("label",{for:"description_courte_en",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Description courte (EN) "),r("span",{class:"text-red-500"},"*")],-1)),u(r("textarea",{id:"description_courte_en","onUpdate:modelValue":e[5]||(e[5]=o=>s(t).description_courte.en=o),rows:"3",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,s(t).description_courte.en]]),s(t).errors["description_courte.en"]?(l(),d("p",G,i(s(t).errors["description_courte.en"]),1)):n("",!0)])]),r("div",I,[r("div",null,[e[25]||(e[25]=r("label",{for:"description_complete_fr",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Description complète (FR) "),r("span",{class:"text-red-500"},"*")],-1)),u(r("textarea",{id:"description_complete_fr","onUpdate:modelValue":e[6]||(e[6]=o=>s(t).description_complete.fr=o),rows:"5",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,s(t).description_complete.fr]]),s(t).errors["description_complete.fr"]?(l(),d("p",z,i(s(t).errors["description_complete.fr"]),1)):n("",!0)]),r("div",null,[e[26]||(e[26]=r("label",{for:"description_complete_en",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Description complète (EN) "),r("span",{class:"text-red-500"},"*")],-1)),u(r("textarea",{id:"description_complete_en","onUpdate:modelValue":e[7]||(e[7]=o=>s(t).description_complete.en=o),rows:"5",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,s(t).description_complete.en]]),s(t).errors["description_complete.en"]?(l(),d("p",J,i(s(t).errors["description_complete.en"]),1)):n("",!0)])]),r("div",O,[r("div",null,[e[27]||(e[27]=r("label",{for:"debouches_fr",class:"block text-sm font-medium text-gray-700 mb-2"}," Débouchés (FR) ",-1)),u(r("textarea",{id:"debouches_fr","onUpdate:modelValue":e[8]||(e[8]=o=>s(t).debouches.fr=o),rows:"3",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,s(t).debouches.fr]]),s(t).errors["debouches.fr"]?(l(),d("p",W,i(s(t).errors["debouches.fr"]),1)):n("",!0)]),r("div",null,[e[28]||(e[28]=r("label",{for:"debouches_en",class:"block text-sm font-medium text-gray-700 mb-2"}," Débouchés (EN) ",-1)),u(r("textarea",{id:"debouches_en","onUpdate:modelValue":e[9]||(e[9]=o=>s(t).debouches.en=o),rows:"3",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,s(t).debouches.en]]),s(t).errors["debouches.en"]?(l(),d("p",X,i(s(t).errors["debouches.en"]),1)):n("",!0)])]),r("div",$,[r("div",null,[e[29]||(e[29]=r("label",{for:"prerequis_fr",class:"block text-sm font-medium text-gray-700 mb-2"}," Prérequis (FR) ",-1)),u(r("textarea",{id:"prerequis_fr","onUpdate:modelValue":e[10]||(e[10]=o=>s(t).prerequis.fr=o),rows:"3",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,s(t).prerequis.fr]]),s(t).errors["prerequis.fr"]?(l(),d("p",H,i(s(t).errors["prerequis.fr"]),1)):n("",!0)]),r("div",null,[e[30]||(e[30]=r("label",{for:"prerequis_en",class:"block text-sm font-medium text-gray-700 mb-2"}," Prérequis (EN) ",-1)),u(r("textarea",{id:"prerequis_en","onUpdate:modelValue":e[11]||(e[11]=o=>s(t).prerequis.en=o),rows:"3",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,s(t).prerequis.en]]),s(t).errors["prerequis.en"]?(l(),d("p",K,i(s(t).errors["prerequis.en"]),1)):n("",!0)])]),r("div",Q,[r("div",null,[e[31]||(e[31]=r("label",{for:"prix",class:"block text-sm font-medium text-gray-700 mb-2"}," Prix (XAF) ",-1)),u(r("input",{id:"prix","onUpdate:modelValue":e[12]||(e[12]=o=>s(t).prix=o),type:"number",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",min:"0"},null,512),[[a,s(t).prix,void 0,{number:!0}]]),s(t).errors.prix?(l(),d("p",Y,i(s(t).errors.prix),1)):n("",!0)]),r("div",null,[e[32]||(e[32]=r("label",{for:"duree",class:"block text-sm font-medium text-gray-700 mb-2"}," Durée ",-1)),u(r("input",{id:"duree","onUpdate:modelValue":e[13]||(e[13]=o=>s(t).duree=o),type:"text",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"3 mois"},null,512),[[a,s(t).duree]]),s(t).errors.duree?(l(),d("p",Z,i(s(t).errors.duree),1)):n("",!0)]),r("div",null,[e[34]||(e[34]=r("label",{for:"is_featured",class:"block text-sm font-medium text-gray-700 mb-2"}," Mise en avant ",-1)),r("div",ee,[u(r("input",{id:"is_featured","onUpdate:modelValue":e[14]||(e[14]=o=>s(t).is_featured=o),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[F,s(t).is_featured]]),e[33]||(e[33]=r("label",{for:"is_featured",class:"ml-2 text-sm text-gray-600"}," Afficher sur la page d'accueil ",-1))])])]),r("div",re,[e[38]||(e[38]=r("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Image de couverture ",-1)),r("div",te,[p.value?(l(),d("div",se,[r("img",{src:p.value,class:"w-full h-full object-cover"},null,8,oe)])):(l(),d("div",le,[...e[35]||(e[35]=[r("i",{class:"fas fa-image text-3xl mb-2"},null,-1),r("span",{class:"text-xs text-center px-2"},"Aucun fichier sélectionné",-1)])])),r("div",de,[e[36]||(e[36]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Choisir une image",-1)),r("input",{type:"file",onInput:y,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[37]||(e[37]=r("p",{class:"mt-2 text-xs text-gray-500"}," JPG, PNG, WebP acceptés. Max 2Mo. ",-1)),s(t).errors.image?(l(),d("p",ie,i(s(t).errors.image),1)):n("",!0)])])]),r("div",ue,[c(s(g),{href:f.route("admin.formations.index"),class:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},{default:b(()=>[...e[39]||(e[39]=[m(" Annuler ",-1)])]),_:1},8,["href"]),r("button",{type:"submit",disabled:s(t).processing,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[s(t).processing?(l(),d("span",ae,[...e[40]||(e[40]=[r("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),m(" Création... ",-1)])])):(l(),d("span",me,[...e[41]||(e[41]=[r("i",{class:"fas fa-save mr-2"},null,-1),m(" Créer la formation ",-1)])]))],8,ne)])],32)])])])]),_:1}))}};export{ge as default};
