import{e as p,q as y,c as w,w as f,a as t,f as v,g as u,u as o,v as g,o as i,h as r,t as d,i as n,m as _,d as h,l as k,b as V}from"./app-CdMWkPm-.js";import{_ as U}from"./AdminLayout-BM9PyY8-.js";import"./ResponsiveNavLink-BVC2d6yf.js";import"./NavLink-CSgUk3F9.js";const T={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},S={class:"space-y-4"},B={key:0,class:"text-red-600 text-sm mt-1"},D={key:0,class:"text-red-600 text-sm mt-1"},E={class:"space-y-4"},I={key:0,class:"text-red-600 text-sm mt-1"},j={key:0,class:"text-red-600 text-sm mt-1"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t"},A={key:0,class:"text-red-600 text-sm mt-1"},F={key:0,class:"mb-2"},O=["src"],P={key:1,class:"text-red-600 text-sm mt-1"},R={key:0,class:"text-red-600 text-sm mt-1"},z={class:"flex items-center mt-6"},L={class:"flex justify-end pt-6 border-t"},$=["disabled"],Q={__name:"Edit",props:{news:Object},setup(b){const a=b,s=p({_method:"PUT",title:{fr:"",en:""},content:{fr:"",en:""},slug:"",image:null,published_at:"",is_published:!1});y(()=>{if(s.title=a.news.title||{fr:"",en:""},s.content=a.news.content||{fr:"",en:""},s.slug=a.news.slug,a.news.published_at){const m=new Date(a.news.published_at),e=m.getTimezoneOffset()*6e4,l=new Date(m.getTime()-e).toISOString().slice(0,16);s.published_at=l}s.is_published=!!a.news.is_published});const c=m=>{s.image=m.target.files[0]},x=()=>{s.post(route("admin.news.update",a.news.id))};return(m,e)=>(i(),w(U,{title:"Modifier une Actualité"},{header:f(()=>[...e[7]||(e[7]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Modifier l'Actualité ",-1)])]),default:f(()=>[t("div",T,[t("div",C,[t("div",M,[t("form",{onSubmit:v(x,["prevent"]),class:"p-6 text-gray-900 space-y-6"},[t("div",N,[t("div",S,[e[10]||(e[10]=t("h3",{class:"font-semibold text-lg text-blue-600 border-b pb-2"}," Français ",-1)),t("div",null,[e[8]||(e[8]=t("label",{for:"title_fr",class:"block text-sm font-medium text-gray-700"},"Titre (FR)",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o(s).title.fr=l),type:"text",id:"title_fr",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[g,o(s).title.fr]]),o(s).errors["title.fr"]?(i(),r("div",B,d(o(s).errors["title.fr"]),1)):n("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"content_fr",class:"block text-sm font-medium text-gray-700"},"Contenu (FR)",-1)),u(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=l=>o(s).content.fr=l),id:"content_fr",rows:"10",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[g,o(s).content.fr]]),o(s).errors["content.fr"]?(i(),r("div",D,d(o(s).errors["content.fr"]),1)):n("",!0)])]),t("div",E,[e[13]||(e[13]=t("h3",{class:"font-semibold text-lg text-red-600 border-b pb-2"}," Anglais ",-1)),t("div",null,[e[11]||(e[11]=t("label",{for:"title_en",class:"block text-sm font-medium text-gray-700"},"Titre (EN)",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o(s).title.en=l),type:"text",id:"title_en",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(s).title.en]]),o(s).errors["title.en"]?(i(),r("div",I,d(o(s).errors["title.en"]),1)):n("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{for:"content_en",class:"block text-sm font-medium text-gray-700"},"Contenu (EN)",-1)),u(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>o(s).content.en=l),id:"content_en",rows:"10",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(s).content.en]]),o(s).errors["content.en"]?(i(),r("div",j,d(o(s).errors["content.en"]),1)):n("",!0)])])]),t("div",q,[t("div",null,[e[14]||(e[14]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-700"},"Slug (URL)",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o(s).slug=l),type:"text",id:"slug",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm bg-gray-50",required:""},null,512),[[g,o(s).slug]]),o(s).errors.slug?(i(),r("div",A,d(o(s).errors.slug),1)):n("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{for:"image",class:"block text-sm font-medium text-gray-700"},"Image de couverture",-1)),b.news.image?(i(),r("div",F,[t("img",{src:"/"+b.news.image,alt:"Current Image",class:"h-20 w-auto rounded object-cover"},null,8,O)])):n("",!0),t("input",{type:"file",id:"image",onChange:c,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*"},null,32),o(s).errors.image?(i(),r("div",P,d(o(s).errors.image),1)):n("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{for:"published_at",class:"block text-sm font-medium text-gray-700"},"Date de Publication",-1)),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>o(s).published_at=l),type:"datetime-local",id:"published_at",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(s).published_at]]),o(s).errors.published_at?(i(),r("div",R,d(o(s).errors.published_at),1)):n("",!0)]),t("div",z,[u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>o(s).is_published=l),id:"is_published",type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[_,o(s).is_published]]),e[17]||(e[17]=t("label",{for:"is_published",class:"ml-2 block text-sm text-gray-900"}," Publier immédiatement ",-1))])]),t("div",L,[h(o(k),{href:m.route("admin.news.index"),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md mr-2 hover:bg-gray-300"},{default:f(()=>[...e[18]||(e[18]=[V("Annuler",-1)])]),_:1},8,["href"]),t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:o(s).processing},d(o(s).processing?"Enregistrement...":"Mettre à jour"),9,$)])],32)])])])]),_:1}))}};export{Q as default};
