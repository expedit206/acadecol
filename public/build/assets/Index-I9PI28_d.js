import{_}from"./AdminLayout-DMrfK7Ww.js";import{c as y,w as x,a as t,o as l,h as d,t as a,i as r,F as c,r as m,n as u,d as b,u as p,l as f,b as o,j as v}from"./app-BHVeyYr9.js";import"./ResponsiveNavLink-CsJK82uQ.js";import"./NavLink-CPfZiPvW.js";const w={class:"py-12"},k={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={key:0,class:"mb-6 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-lg"},j={class:"flex items-center"},V={class:"hidden md:block bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6"},C={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-200"},L={class:"bg-white divide-y divide-gray-200"},F={class:"px-6 py-4"},N={class:"flex items-center"},S={class:"text-sm font-medium text-gray-900"},T={class:"text-sm text-gray-500"},$={class:"text-sm text-gray-500"},B={class:"px-6 py-4"},H={class:"text-xs"},M={class:"font-semibold text-blue-800"},E={class:"text-blue-600 italic"},P={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},z={class:"px-6 py-4 whitespace-nowrap"},I={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},O={class:"md:hidden space-y-4"},q={class:"flex justify-between items-start mb-4"},G={class:"font-bold text-lg text-gray-900"},J={class:"text-sm text-gray-500"},K={class:"text-sm text-gray-500"},Q={class:"mb-4"},U={class:"bg-blue-50 px-3 py-2 rounded-lg"},W={class:"font-semibold text-blue-800 text-sm"},X={class:"text-blue-600 text-xs italic"},Y={class:"flex justify-between items-center border-t pt-4"},Z={class:"text-sm text-gray-500"},tt={key:0,class:"grid grid-cols-2 gap-2 mt-4 pt-4 border-t border-gray-100"},et=["onClick"],st=["onClick"],at={key:0,class:"text-center py-12 bg-white rounded-lg shadow"},lt={key:1,class:"mt-6 flex flex-col sm:flex-row items-center justify-between border-t pt-4 gap-4"},dt={class:"text-sm text-gray-700 text-center sm:text-left"},nt={class:"font-medium"},ot={class:"font-medium"},it={class:"font-medium"},rt={class:"flex gap-2 justify-center"},ct=["innerHTML"],gt={__name:"Index",props:{preRegistrations:Object},setup(n){console.log(n.preRegistrations.data);const g=(i,s)=>{confirm("Êtes-vous sûr de vouloir changer le statut de cette pré-inscription ?")&&v.patch(route("admin.pre-registrations.update",i),{status:s})};return(i,s)=>(l(),y(_,{title:"Pré-inscriptions"},{default:x(()=>[t("div",w,[t("div",k,[s[12]||(s[12]=t("div",{class:"mb-6 flex justify-between items-center"},[t("h1",{class:"text-3xl font-bold text-gray-900"}," Pré-inscriptions ")],-1)),i.$page.props.flash.success?(l(),d("div",R,[t("div",j,[s[0]||(s[0]=t("i",{class:"fas fa-check-circle mr-3 text-xl"},null,-1)),t("p",null,a(i.$page.props.flash.success),1)])])):r("",!0),t("div",V,[t("div",A,[t("div",C,[t("table",D,[s[2]||(s[2]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Étudiant "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Formation "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",L,[(l(!0),d(c,null,m(n.preRegistrations.data,e=>(l(),d("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",F,[t("div",N,[t("div",null,[t("div",S,a(e.first_name)+" "+a(e.last_name),1),t("div",T,a(e.email),1),t("div",$,a(e.phone),1)])])]),t("td",B,[t("div",H,[t("div",M,a(e.formation?.titre?.fr||"N/A"),1),t("div",E,a(e.formation?.titre?.en||""),1)])]),t("td",P,a(new Date(e.created_at).toLocaleDateString("fr-FR")),1),t("td",z,[t("span",{class:u(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":e.status==="pending","bg-green-100 text-green-800":e.status==="validated","bg-red-100 text-red-800":e.status==="cancelled"}])},a(e.status==="pending"?"En attente":e.status==="validated"?"Validée":"Annulée"),3)]),t("td",I,[b(p(f),{href:i.route("admin.pre-registrations.show",e.id),class:"text-blue-600 hover:text-blue-900"},{default:x(()=>[...s[1]||(s[1]=[t("i",{class:"fas fa-eye"},null,-1),o(" Voir ",-1)])]),_:1},8,["href"])])]))),128))])])])])]),t("div",O,[(l(!0),d(c,null,m(n.preRegistrations.data,e=>(l(),d("div",{key:e.id,class:"bg-white overflow-hidden shadow-sm rounded-lg p-4"},[t("div",q,[t("div",null,[t("h3",G,a(e.first_name)+" "+a(e.last_name),1),t("div",J,a(e.email),1),t("div",K,a(e.phone),1)]),t("span",{class:u(["px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":e.status==="pending","bg-green-100 text-green-800":e.status==="validated","bg-red-100 text-red-800":e.status==="cancelled"}])},a(e.status==="pending"?"En attente":e.status==="validated"?"Validée":"Annulée"),3)]),t("div",Q,[s[3]||(s[3]=t("div",{class:"text-sm font-medium text-gray-700 mb-1"}," Formation: ",-1)),t("div",U,[t("div",W,a(e.formation?.titre?.fr||"N/A"),1),t("div",X,a(e.formation?.titre?.en||""),1)])]),t("div",Y,[t("div",Z,a(new Date(e.created_at).toLocaleDateString("fr-FR")),1),b(p(f),{href:i.route("admin.pre-registrations.show",e.id),class:"text-blue-600 hover:text-blue-900 font-medium"},{default:x(()=>[...s[4]||(s[4]=[t("i",{class:"fas fa-eye mr-1"},null,-1),o(" Détails ",-1)])]),_:1},8,["href"])]),e.status==="pending"?(l(),d("div",tt,[t("button",{onClick:h=>g(e.id,"validated"),class:"flex items-center justify-center px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition text-sm font-medium"},[...s[5]||(s[5]=[t("i",{class:"fas fa-check mr-2"},null,-1),o(" Valider ",-1)])],8,et),t("button",{onClick:h=>g(e.id,"cancelled"),class:"flex items-center justify-center px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition text-sm font-medium"},[...s[6]||(s[6]=[t("i",{class:"fas fa-times mr-2"},null,-1),o(" Refuser ",-1)])],8,st)])):r("",!0)]))),128)),n.preRegistrations.data.length===0?(l(),d("div",at,[...s[7]||(s[7]=[t("i",{class:"fas fa-inbox text-6xl text-gray-300 mb-4"},null,-1),t("p",{class:"text-gray-500 text-lg"}," Aucune pré-inscription reçue ",-1)])])):r("",!0)]),n.preRegistrations.data.length>0?(l(),d("div",lt,[t("div",dt,[s[8]||(s[8]=o(" Affichage de ",-1)),t("span",nt,a(n.preRegistrations.from),1),s[9]||(s[9]=o(" à ",-1)),t("span",ot,a(n.preRegistrations.to),1),s[10]||(s[10]=o(" sur ",-1)),t("span",it,a(n.preRegistrations.total),1),s[11]||(s[11]=o(" résultats ",-1))]),t("div",rt,[(l(!0),d(c,null,m(n.preRegistrations.links,e=>(l(),d(c,{key:e.label},[e.url?(l(),y(p(f),{key:0,href:e.url,class:u(["px-4 py-2 border rounded-lg text-sm",e.active?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"]),innerHTML:e.label,disabled:!e.url},null,8,["href","class","innerHTML","disabled"])):(l(),d("span",{key:1,class:u(["px-4 py-2 border rounded-lg text-sm cursor-not-allowed opacity-50","bg-gray-100 text-gray-400 border-gray-200"]),innerHTML:e.label},null,8,ct))],64))),128))])])):r("",!0)])])]),_:1}))}};export{gt as default};
